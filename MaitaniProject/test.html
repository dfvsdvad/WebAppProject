<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <title>トライデントOCアプリ</title>
    <link rel="stylesheet" href="mapPage.css">
    <meta name="viewport" content="width=960">
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script type="text/javascript" src="../firebaseImport.js"></script>
</head>



<div id="wrap">
    <header class="pfix">
        <nav class="nav" id="nav_f">
            <ul>
                <li><a href="OC_anke.html" class="list"><span style="border-bottom: solid 5px white;">アンケート入力画面</span></a></li>
                <li><a href="../NakanoProject/ManagementPage.html" class="list"><span style="border-bottom: solid 5px white;">【スタッフ用】混雑状況入力</span></a></li>

            </ul>
        </nav>
        <div id="target">
            <div class="target_inner">
                <span class="target_inner_line target_inner_1" id="line1"></span>
                <span class="target_inner_line target_inner_2" id="line2"></span>
                <span class="target_inner_line target_inner_3" id="line3"></span>
            </div>
        </div>

        <h1 id="t">トライデントオープンキャンパスアプリ</h1>

    </header>

</div>

<body>



    <table border="1" id="table1">
        <tr>
            <td id="td1">混雑</td>
            <td style="font-size: 20px;">他の学科から回ることを推奨します</td>
        </tr>

        <tr>
            <td id="td2">普通</td>
            <td style="font-size: 20px">場合によっては混雑するかもしれません</td>
        </tr>

        <tr>
            <td id="td3">空き</td>
            <td style="font-size: 20px">空いています</td>
        </tr>

    </table>

    <div id="trident_map">
        <b>
            <p style="text-align: center;">学科をタップすると各学科の説明が表示されます</p>
        </b>



        <div class="floor">
            <label for="web">7F </label><button id="web" class="subject">WEBデザイン学科</button>
        </div>

        <div class="floor">
            <label for="game">5F </label><button id="game" class="subject">ゲームサイエンス学科</button>
            <button id="vr" class="subject">VRゲーム・Vtuber体験</button>
        </div>

        <div class="floor">
            <label for="it">4F </label>
            <button id="it" class="subject">F44<br>情報系学科</button>
            <button id="cad" class="subject">CAD学科</button><br>
        </div>

        <div class="floor">
            <label for="cg">B1F </label><button id="cg" class="subject">CGスペシャリスト学科</button>
        </div>
    </div>

    <!--  学科紹介のダイアログ-->
    <div class="container">
        <div class="overlay"></div>

        <div class="content">
            <img src="image/patora4.jpg" alt="画像" id="web_picture">

            <h3>講座①自分だけのWebサイトを作ろう</h3>
            <p>Webサイトの仕組みを学びながら、スマートフォンにも対応した簡単なページを作ってみよう！<br>スタッフが優しく丁寧に教えてくれるので安心です！</p>

            <h3>講座②最新のWeb技術を体験しよう</h3>
            <p>3DやVRや音声認識など、最新技術を使ったWebサイトやゲームを体験できます！<br>友達と競い合って、楽しくWebの世界を覗いてみよう！</p>

            <h3>講座③オリジナルのロゴマークをデザインしよう</h3>
            <p>プロも使用するソフトを使ってロゴマークを作ってみよう！<br>デザインが苦手でも楽しく体験できます！</p>

            <button class="close">CLOSE</button>
        </div>
    </div>


    <div class="container_game">
        <div class="overlay"></div>

        <div class="content">
            <img src="image/patora2.jpg" alt="画像" id="game_picture">

            <h3>講座①必殺技を作ろう「格闘ゲーム」</h3>
            <p>放て！必殺技！自分だけのコマンドパターンを考えて、オリジナル必殺技を作って遊ぼう。</p>

            <h3>講座②プロと同じ開発環境を使ってみよう！</h3>
            <p>ニンテンドー3DSのゲームを開発してみよう。<br>
                どんなゲームができるかはお楽しみ...</p>

            <h3>講座③あなたもつくろうスマートフォンゲーム</h3>
            <p>スマートフォンのゲームはどうやって創られているんだろう？<br>
                疑問に思ったらLet's Challenge!!</p>

            <h3>講座④ツクッて遊ぼう「オリジナルRPG」</h3>
            <p>さあ、今年もキミだけのオリジナルＲＰＧをツクろう！<br>
                できあがったゲームデータはキミのもの。<br>
                持参すれば続きから作成できるぞ!!</p>

            <h3>講座⑤学生制作ゲーム「試遊コーナー」</h3>
            <p>卒業生・在校生が制作したゲー ムで遊ぼう!!<br>
                コンテスト受賞作品をはじめ学生が制作したゲームを試遊できるよ。</p>



            <button class="close">CLOSE</button>
        </div>
    </div>

    <div class="container_vr">
        <div class="overlay"></div>

        <div class="content">
            <img src="image/patora10.jpg" alt="画像" id="vr_picture">

            <h3>講座①VRゲーム体験</h3>
            <p>360度全方向を取り囲むゲームの世界を体験しよう！<br>
                バーチャルキャスト(<a href="https://virtualcast.jp" style="color: blue;display: inline">https://virtualcast.jp</a>)を 使ったVtuber体験もできるよ。</p>



            <button class="close">CLOSE</button>
        </div>
    </div>





    <script>
        function hamburger() {
            document.getElementById('line1').classList.toggle('linea');
            document.getElementById('line2').classList.toggle('lineb');
            document.getElementById('line3').classList.toggle('linec');
            document.getElementById('target').classList.toggle('slidex');
            document.getElementById('nav_f').classList.toggle('fadein');
        }

        document.getElementById('target').addEventListener('click', function() {
            hamburger();
        });

        let list = document.getElementsByClassName('list');

        for (let i = 0; i < list.length; i++) {
            list[i].addEventListener('click', function() {
                hamburger();
            });
        }
    </script>


    <script>
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        var firebaseConfig = {
            apiKey: "AIzaSyC8BVU_scpA1VsmQ8q7dtUvCmyzV9DkWBw",
            authDomain: "stone-citizen-293007.firebaseapp.com",
            databaseURL: "https://stone-citizen-293007.firebaseio.com",
            projectId: "stone-citizen-293007",
            storageBucket: "stone-citizen-293007.appspot.com",
            messagingSenderId: "30711139915",
            appId: "1:30711139915:web:87c02d9086eba140e207ce",
            measurementId: "G-P1TFK1KKEN"
        };
        // ファイアベースをイニシャライズ
        firebase.initializeApp(firebaseConfig);


        var firestore = firebase.firestore();

        const docRef = firestore.doc("subject/status");

        const f7 = document.querySelector("#web");
        console.log(f7.value);
        const f5a = document.querySelector("#game");
        console.log(f5a.value);
        const f5b = document.querySelector("#vr");
        console.log(f5b.value);
        const f4a = document.querySelector("#it");
        console.log(f4a.value);
        const f4b = document.querySelector("#cad");
        console.log(f4b.value);
        const fb1 = document.querySelector("#cg");
        console.log(fb1.value);




        var data = {
            web: f7,
            game: f5a,
            vr: f5b,
            it: f4a,
            cad: f4b,
            cg: fb1
        };
        getRealtimeUpdates = function() {
            docRef.onSnapshot(function(doc) {
                if (doc && doc.exists) {
                    const myData = doc.data();
                    for (var key in data) {
                        var zyoutai = myData["”" + key + "”"];
                        console.log(zyoutai);
                        var color;
                        switch (zyoutai) {
                            case "混んでる":
                                color = "#ff9e9e";
                                break;
                            case "通常":
                                color = "#ffff9e";
                                break;
                            case "空いてる":
                                color = "#9eceff";
                                break;
                        }
                        data[key].style.background = color;
                    }
                }
            });
        }

        getRealtimeUpdates();

        jQuery(function() {
            var container = $('.container'),
                container_game = $('.container_game'),
                container_vr = $('.container_vr'),
                overlay = $('.overlay'),
                close = $('.close');

            const f7 = document.querySelector("#web");
            const f5a = document.querySelector("#game");

            const f5b = document.querySelector("#vr");

            const f4a = document.querySelector("#it");

            const f4b = document.querySelector("#cad");

            const fb1 = document.querySelector("#cg");




            document.getElementById("web").onclick = function() {
                container.fadeIn();
            };

            document.getElementById("game").onclick = function() {
                container_game.fadeIn();
            };

            document.getElementById("vr").onclick = function() {
                container_vr.fadeIn();
            };

            //CLOSEをクリックでモーダルを閉じる
            close.on('click', function() {
                container.fadeOut();
                container_game.fadeOut();
                 container_vr.fadeOut();
            });

            //モーダルの周りをクリックで閉じる
            overlay.on('click', function() {
                container.fadeOut();
                container_game.fadeOut();
                 container_vr.fadeOut();
            });
        });
    </script>

</body></html>
