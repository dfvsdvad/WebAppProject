<head>
    <link rel="stylesheet" href="Local//anketoPage/sample.css">
    <script type="text/javascript" src="script/firebaseImport.js"></script>
</head>
<html>

<body>
  <div class="box2">
    <div class="box-title">
      個人情報入力欄 <span id="span2"></span>
    </div>

    お名前：<input type="text" id="name" value=""><span id="span2">
      <br>
      学校名：<input type="text" id="school" value="">
      <br>
      <p class="gaku">学科： <input type="text" id="class" value=""></p><br>
      <div class="radio">
        学年：
        <input id="radio1" type="radio" name="gakunen" value="1年">
        <label for="radio1" class="radio-label">1年</label>
        <input id="radio2" type="radio" name="gakunen" value="2年">
        <label for="radio2" class="radio-label">2年</label>
        <input id="radio3" type="radio" name="gakunen" value="3年">
        <label for="radio3" class="radio-label">3年</label>
        <br>
      </div>
      <div class="radio">
        性別：
        <input id="radio4" name="gender" type="radio" value="男性">
        <label for="radio4" class="radio-label">男性</label>
        <input id="radio5" name="gender" type="radio" value="女性">
        <label for="radio5" class="radio-label">女性</label>
      </div>
      <p class="sumu">郵便番号：<input type="text" id="leter" value=""></p><br>
      <p class="sumu">住所：<input type="text" size="70" id="home" value=""></p>
    </span>
  </div>
  <div class="box2">
    <div class="box-title">
      参加した講座にチェックを入れてください <span id="span2"></span>
    </div>
    ゲーム開発
    <input type="checkbox" id="03-A" name="A" value="A">
    <label for="03-A" class="checkbox03">A 必殺技を作ろう「格闘ゲーム」<br></label>
    <input type="checkbox" id="03-B" name="A" value="B">
    <label for="03-B" class="checkbox03">B プロと同じ開発環境を使ってみよう！<br></label>
    <input type="checkbox" id="03-C" name="A" value="C">
    <label for="03-C" class="checkbox03">C あなたもつくろうスマートフォンゲーム<br></label>
    <input type="checkbox" id="03-D" name="A" value="D">
    <label for="03-D" class="checkbox03">D ツクッて遊ぼう「オリジナルRPG」<br></label>
    <input type="checkbox" id="03-E" name="A" value="E">
    <label for="03-E" class="checkbox03">E 学生制作ゲーム「試遊コーナー」<br></label>
    <input type="checkbox" id="03-F" name="A" value="F">
    <label for="03-F" class="checkbox03">F VRゲーム体験<br></label>

    CG
    <input type="checkbox" id="03-G" name="A" value="G">
    <label for="03-G" class="checkbox03">G 3DCG制作キャラクターを作ってみよう<br></label>
    <input type="checkbox" id="03-H" name="A" value="H">
    <label for="03-H" class="checkbox03">H CG彫刻ソフトでデジタルモデリング<br></label>
    <input type="checkbox" id="03-I" name="A" value="I">
    <label for="03-I" class="checkbox03">I アニメーションを体験しよう<br></label>
    <input type="checkbox" id="03-J" name="A" value="J">
    <label for="03-J" class="checkbox03">J 楽しく描こうキャラクターイラスト<br></label>
    <input type="checkbox" id="03-K" name="A" value="K">
    <label for="03-K" class="checkbox03">K 楽しく造ろうオリジナルキャラクターグッズ<br></label>
    <input type="checkbox" id="03-L" name="A" value="L">
    <label for="03-L" class="checkbox03">L 本気でプロを目指す人、基礎を学びたい人集まれ！！<br></label>
    Webデザイン
    <input type="checkbox" id="03-M" name="A" value="M">
    <label for="03-M" class="checkbox03">M 自分だけのWebサイトを作ろう<br> </label>
    <input type="checkbox" id="03-N" name="A" value="N">
    <label for="03-N" class="checkbox03">N 最近のWeb技術を体験しよう<br> </label>
    <input type="checkbox" id="03-O" name="A" value="O">
    <label for="03-O" class="checkbox03">O オリジナルロゴテーマをデザインしよう<br> </label>
    CAD
    <input type="checkbox" id="03-P" name="A" value="P">
    <label for="03-P" class="checkbox03">PこれがCADだ！！（制作編)<br></label>
    <input type="checkbox" id="03-Q" name="A" value="Q">
    <label for="03-Q" class="checkbox03">QこれがCADだ！！（組立編)<br></label>
    情報処理
    <input type="checkbox" id="03-R" name="A" value="R">
    <label for="03-R" class="checkbox03">Rスマートフォンアプリ＆Webアプリ開発を体験しよう<br></label>
    <input type="checkbox" id="03-S" name="A" value="S">
    <label for="03-S" class="checkbox03">Sネットワークセキュリティを体験しよう<br></label>
    <input type="checkbox" id="03-T" name="A" value="T">
    <label for="03-T" class="checkbox03">Tやってみよう！AI体験<br></label>
    <input type="checkbox" id="03-U" name="A" value="U">
    <label for="03-U" class="checkbox03">U学生アプリ体験コーナー<br></label>



  </div>
  <div class="box2">
    <div class="box-title">
      Bその他参加したイベントがあれば、チェックを入れてください。 <span id="span2"></span>
    </div>


    <input type="checkbox" id="B1" name="B" value="B1">
    <label for="B1" class="checkbox03">スペシャル講座<br></label>
    <input type="checkbox" id="B2" name="B" value="B2">
    <label for="B2" class="checkbox03">学校説明会<br></label>
    <input type="checkbox" id="B3" name="B" value="B3">
    <label for="B3" class="checkbox03">AO入学説明会<br></label>
    <input type="checkbox" id="B4" name="B" value="B4">
    <label for="B4" class="checkbox03">奨学金説明会<br></label>
    <input type="checkbox" id="B5" name="B" value="B5">
    <label for="B5" class="checkbox03">キャンパスツアー<br></label>
    <input type="checkbox" id="B6" name="B" value="B6">
    <label for="B6" class="checkbox03">就職情報センター<br></label>
  </div>
  <div class="box2">
    <div class="box-title">
      <p>C一番印象に残った講座と感想をお聞かせください。</p><span id="span2"></span>
    </div>

    <select name="kouza" class="same-width-list" id="course">
      <option value="">コース</option>
      <option value="ゲーム開発">ゲーム開発</option>
      <option value="CG">CG</option>
      <option value="Webデザイン"> Webデザイン</option>
      <option value="CAD">CAD</option>
      <option value="情報処理">情報処理</option>
      <select>
        <select name="kouza2" class="same-width-list2" id="kouza">
        </select>
      </select>
    </select>
    <br>

    <script>
      let versionArray = new Array();
      versionArray[''] = new Array('講座');
      versionArray['ゲーム開発'] = new Array(
        'A 必殺技を作ろう「格闘ゲーム」',
        'B プロと同じ開発環境を使ってみよう！',
        'C あなたもつくろうスマートフォンゲーム',
        'D ツクッて遊ぼう「オリジナルRPG」',
        'E 学生制作ゲーム「試遊コーナー」',
        'F VRゲーム体験');

      versionArray['CG'] = new Array(
        'G 3DCG制作キャラクターを作ってみよう',
        'H CG彫刻ソフトでデジタルモデリング',
        'I アニメーションを体験しよう',
        'J 楽しく描こうキャラクターイラスト',
        'K 楽しく造ろうオリジナルキャラクターグッズ',
        'L 本気でプロを目指す人、基礎を学びたい人集まれ！！');
      versionArray['Webデザイン'] = new Array(
        'M 自分だけのWebサイトを作ろう',
        'N 最近のWeb技術を体験しよう',
        'O オリジナルロゴテーマをデザインしよう');

      versionArray['CAD'] = new Array(
        'PこれがCADだ！！（制作編)',
        'QこれがCADだ！！（組立編)');

      versionArray['情報処理'] = new Array(
        'Rスマートフォンアプリ＆Webアプリ開発を体験しよう',
        'Sネットワークセキュリティを体験しよう',
        'Tやってみよう！AI体験',
        'U学生アプリ体験コーナー'
      );


      document.getElementsByName('kouza')[0].onchange = function() {
        let os = this.value;
        let elm = document.getElementsByName('kouza2')[0];
        elm.options.length = 0;
        for (let i = 0; i < versionArray[os].length; i++) {
          let op = document.createElement('option');
          op.value = versionArray[os][i];
          op.textContent = versionArray[os][i];
          elm.appendChild(op);
        }
      };
      window.onload = function() {
        document.getElementsByName('kouza')[0].onchange();
      };
    </script>
    <br>
    感想をお聞かせください。
    <br>
    <input type="text" class="kansou" id="kansou" value="">
    <p class="D">D.トライデントをはじめに知ったきっかけは？</p><span id="span2"></span>


    <select name="sinro" class="same-width-list" id="orizin">
      <option value="">選択</option>
      <option value="紹介">紹介</option>
      <option value="インターネット">インターネット</option>
      <option value="その他"> その他</option>
      <select>
        <select name="sinro2" class="same-width-list2" id="orizin2">
        </select>
      </select>
    </select>

    <script>
      let versionArray2 = new Array();
      versionArray2[''] = new Array('進路');
      //                配列化

      versionArray2['紹介'] = new Array(
        '１ 親・兄弟・親戚がトライデント生',
        '２ 知人・友人・親・兄弟の紹介',
        '３ クラス担任の紹介',
        '４ クラブ顧問の紹介',
        '５ 進路の先生');

      versionArray2['インターネット'] = new Array(
        '本校HP',
        '本校Twitter',
        '本校Facebook',
        'ネット検索',
        '進学ネット又は進学雑誌',
        'ポスター',
        '高校に置いてあるパンフレット');


      versionArray2['その他'] = new Array(
        '高校内の進路説明会',
        '高校以外の進路説明会',
        '情報処理試験対策セミナー',
        'イベント',
        'その他'
      );


      document.getElementsByName('sinro')[0].onchange = function() {
        let os = this.value;
        let elm = document.getElementsByName('sinro2')[0];
        elm.options.length = 0;
        for (let i = 0; i < versionArray2[os].length; i++) {
          let op = document.createElement('option');
          op.value = versionArray2[os][i];
          op.textContent = versionArray2[os][i];
          elm.appendChild(op);
        }
      };
      window.onload = function() {
        document.getElementsByName('sinro')[0].onchange();
      };
    </script>
  </div>
  <div class="box2">
    <div class="box-title">
      E.本日のオープンキャンパスにご参加のきっかけは何ですか（複数回答可）<span id="span2"></span>
    </div>
    イベント内容
    <input type="checkbox" id="E1" name="E" value="E1">
    <label for="E1" class="checkbox03">前回のイベントが楽しかった<br></label>
    <input type="checkbox" id="E2" name="E" value="E2">
    <label for="E2" class="checkbox03">講座が面白そうだった<br></label>
    <input type="checkbox" id="E3" name="E" value="E3">
    <label for="E3" class="checkbox03">日程的に都合がよかった<br></label>
    紹介
    <input type="checkbox" id="E4" name="E" value="E4">
    <label for="E4" class="checkbox03">知人・友人に誘われた<br></label>
    <input type="checkbox" id="E5" name="E" value="E5">
    <label for="E5" class="checkbox03">先生に体験イベントに参加するように言われた<br></label>
    <input type="checkbox" id="E6" name="E" value="E6">
    <label for="E6" class="checkbox03">親に勧められた<br></label>
    イベント案内・ネット
    <input type="checkbox" id="E7" name="E" value="E7">
    <label for="E7" class="checkbox03">自宅にダイレクトメール（イベント案内）が届いた<br></label>
    <input type="checkbox" id="E8" name="E" value="E8">
    <label for="E8" class="checkbox03">ネットで知った<br></label>
    <input type="checkbox" id="E9" name="E" value="E9">
    <label for="E9" class="checkbox03">交通費サポート<br></label>
    進路説明会・その他
    <input type="checkbox" id="E10" name="E" value="E10">
    <label for="E10" class="checkbox03">高校内の進路説明会<br></label>
    <input type="checkbox" id="E11" name="E" value="E11">
    <label for="E11" class="checkbox03">高校以外の進路説明会<br></label>
    <input type="checkbox" id="E12" name="E" value="E12">
    <label for="E12" class="checkbox03">情報処理試験対策セミナー<br></label>
    <input type="checkbox" id="E13" name="E" value="E13">
    <label for="E13" class="checkbox03">イベント<br></label>
    <input type="checkbox" id="E14" name="E" onclick="connecttext('textforscb3',this.checked);">
    <label for="E14" class="checkbox03">その他<br></label><!--            //scriptとつながっている-->
    <input type="text" name="othertext" id="sonota" value="">
    <script>
      function connecttext(textid, ischecked) {
        if (ischecked == true) {
          // チェックが入っていたら有効化
          document.getElementById(textid).disabled = false;
        } else {
          // チェックが入っていなかったら無効化
          document.getElementById(textid).disabled = true;
        }
      }
    </script>

  </div>
  <div class="box2">
    <!--           CSS box2-->
    <div class="box-title">
      F.検討中の進路は何ですか？<span id="span2"></span>
    </div>
    <div class="radio">
      <input id="radio-1" name="F" type="radio" value="F1">
      <label for="radio-1" class="radio-label"></label>コンピュータ専門学校
      <input id="radio-2" name="F" type="radio" value="F2">
      <label for="radio-2" class="radio-label"></label>その他の分野の専門学校
      <input id="radio-3" name="F" type="radio" value="F3">
      <label for="radio-3" class="radio-label"></label>就職
      <input id="radio-4" name="F" type="radio" value="F4">
      <label for="radio-4" class="radio-label"></label>大学
      <input id="radio-5" name="F" type="radio" value="F5">
      <label for="radio-5" class="radio-label"></label>短大
      <input id="radio-6" name="F" type="radio" value="F6">
      <label for="radio-6" class="radio-label"></label>その他

    </div>
  </div>
  <div class="box2">
    <!--           CSS box2-->
    <span class="box-title">
      <p>G.本校以外に参加予定または、参加したことがある学校があれば、記入してください</p>
    </span>
    <textarea cols="50" rows="5" id="G1"></textarea>
    <textarea cols="50" rows="5" id="G2"></textarea>
    <textarea cols="50" rows="5" id="G3"></textarea>
  </div>





  <input type="button" value="ボタン" onclick="getfunction()" />




  <script>
    function getDate() {
      var d = new Date();
      return "" + d.getFullYear() + (d.getMonth() + 1) + d.getDate();
    }
  </script>


  <script>
    var getfunction = function() {

      //イニシャライズ
      firebase.initializeApp(firebaseConfig);
      var firestore = firebase.firestore();

      const docSurvey = firestore.collection('survey').doc(getDate());






      docSurvey.get().then(function(doc) {
        if (doc.exists) { //取得できた
          console.log("あった");
        } else {
          // doc.data() will be undefined in this case
          console.log("ドキュメントがない");
        }
      }).catch(function(error) {
        console.log("エラー:", error);
      });



      docC.get().then(function(doc) {


        if (doc.exists) { //取得できた
          c = doc.data()["count"];
          //アンケートを格納  フィールド名は連番で入る
          docRef.set({

              [c]: {
                name: "atuhsi",
                age: 21
              }

            }, {
              merge: true
            }

          ).then(function() {
            console.log("SUCCESS!");
            docC.set({

                count: c + 1


              }, {
                merge: true
              }

            )
          }).catch(function(error) {
            console.log("ERROR... :", error);
          });


        } else {
          // doc.data() will be undefined in this case
          console.log("No such document!");
        }
      }).catch(function(error) {
        console.log("Error getting document:", error);
      });




      //アンケート格納場所→survey/今日の日付に格納される
      const docRef = firestore.collection('survey').doc(getDate());









    };









    const text0 = document.getElementById("name").value; //学校
    document.getElementById("span2").textContent = text0;
    console.log(text0);
    const text1 = document.getElementById("school").value; //学校
    document.getElementById("span2").textContent = text1;
    console.log(text1);
    const text2 = document.getElementById("class").value; //学科
    document.getElementById("span2").textContent = text2;
    console.log(text2);
    const text3 = document.getElementById("leter").value; //郵便番号
    document.getElementById("span2").textContent = text3;
    console.log(text3);
    const text4 = document.getElementById("home").value; //住所
    document.getElementById("span2").textContent = text4;
    console.log(text4);
    const text04 = document.getElementById("sonota").value; //ラジオボタンのその他の処理
    document.getElementById("span2").textContent = text04;
    console.log(text04);
    const str = document.getElementById("course").value; //Cのコース
    document.getElementById("span2").textContent = str;
    console.log(str);
    const str2 = document.getElementById("kouza").value; //Cの講座名
    document.getElementById("span2").textContent = str2;
    console.log(str2);
    const str3 = document.getElementById("orizin").value; //きっかけ
    document.getElementById("span2").textContent = str3;
    console.log(str3);
    const str4 = document.getElementById("orizin2").value; //きっかけの詳細
    document.getElementById("span2").textContent = str4;
    console.log(str4);

    const text5 = document.getElementById("kansou").value; //Cの感想
    document.getElementById("span2").textContent = text5;
    console.log(text5);
    const text6 = document.getElementById("G1").value; //G.本校以外に参加予定または、参加したことがある学校があれば
    document.getElementById("span2").textContent = text6;
    console.log(text6);
    const text7 = document.getElementById("G2").value; //G
    document.getElementById("span2").textContent = text7;
    console.log(text7);
    const text8 = document.getElementById("G3").value; //G
    document.getElementById("span2").textContent = text8;
    console.log(text8);






    const arr2 = [];
    const color2 = document.getElementsByName("gakunen"); //学年

    for (let i = 0; i < color2.length; i++) {
      if (color2[i].checked) { //(color2[i].checked === true)と同じ
        arr2.push(color2[i].value);
      }
    }
    document.getElementById("span2").textContent = arr2;
    console.log(arr2);

    const arr3 = [];
    const color3 = document.getElementsByName("gender"); //性別

    for (let i = 0; i < color3.length; i++) {
      if (color3[i].checked) { //(color2[i].checked === true)と同じ
        arr3.push(color3[i].value);
      }
    }
    document.getElementById("span2").textContent = arr2;
    console.log(arr3);

    const arr4 = [];
    const color4 = document.getElementsByName("A"); //A,参加した講座にチェックを入れてください

    for (let i = 0; i < color4.length; i++) {
      if (color4[i].checked) { //(color2[i].checked === true)と同じ
        arr4.push(color4[i].value);
      }
    }
    document.getElementById("span2").textContent = arr2;
    console.log(arr4);

    const arr5 = [];
    const color5 = document.getElementsByName("B"); //B、他に参加した講座

    for (let i = 0; i < color5.length; i++) {
      if (color5[i].checked) { //(color2[i].checked === true)と同じ
        arr5.push(color5[i].value);
      }
    }
    document.getElementById("span2").textContent = arr2;
    console.log(arr5);

    const arr6 = [];
    const color6 = document.getElementsByName("E"); //E.本日のオープンキャンパスにご参加のきっかけは何ですか（複数回答可）

    for (let i = 0; i < color6.length; i++) {
      if (color6[i].checked) { //(color2[i].checked === true)と同じ
        arr6.push(color6[i].value);
      }
    }
    document.getElementById("span2").textContent = arr2;
    console.log(arr6);

    const arr7 = [];
    const color7 = document.getElementsByName("F"); //F.検討中の進路は何ですか？

    for (let i = 0; i < color7.length; i++) {
      if (color7[i].checked) { //(color2[i].checked === true)と同じ
        arr7.push(color7[i].value);
      }
    }
    document.getElementById("span2").textContent = arr2;
    console.log(arr7);
  </script>


</body></html>
